/* global XMLSerializer:false */
export var svgHTMLIntegrationPoints = { foreignObject: 1, desc: 1, title: 1 };
export var svgNamespace = 'http://www.w3.org/2000/svg';
var doc = typeof document === 'undefined' ? false : document;
// Safari does not like using innerHTML on SVG HTML integration
// points (desc/title/foreignObject).
var needsIntegrationPointFix = doc && (function (document) {
    if (document.createElementNS === undefined) {
        return;
    }
    // In FF title will not accept innerHTML.
    var testEl = document.createElementNS(svgNamespace, 'title');
    testEl.innerHTML = "<div></div>";
    return testEl.childNodes.length === 0 || testEl.childNodes[0].nodeType !== 1;
})(doc);
// Internet Explorer prior to 9 does not allow setting innerHTML if the first element
// is a "zero-scope" element. This problem can be worked around by making
// the first node an invisible text node. We, like Modernizr, use &shy;
var needsShy = doc && (function (document) {
    var testEl = document.createElement('div');
    testEl.innerHTML = "<div></div>";
    testEl.firstChild.innerHTML = "<script><\/script>";
    return testEl.firstChild.innerHTML === '';
})(doc);
// IE 8 (and likely earlier) likes to move whitespace preceeding
// a script tag to appear after it. This means that we can
// accidentally remove whitespace when updating a morph.
var movesWhitespace = doc && (function (document) {
    var testEl = document.createElement('div');
    testEl.innerHTML = "Test: <script type='text/x-placeholder'><\/script>Value";
    return testEl.childNodes[0].nodeValue === 'Test:' &&
        testEl.childNodes[2].nodeValue === ' Value';
})(doc);
var tagNamesRequiringInnerHTMLFix = doc && (function (document) {
    var tagNamesRequiringInnerHTMLFix;
    // IE 9 and earlier don't allow us to set innerHTML on col, colgroup, frameset,
    // html, style, table, tbody, tfoot, thead, title, tr. Detect this and add
    // them to an initial list of corrected tags.
    //
    // Here we are only dealing with the ones which can have child nodes.
    //
    var tableNeedsInnerHTMLFix;
    var tableInnerHTMLTestElement = document.createElement('table');
    try {
        tableInnerHTMLTestElement.innerHTML = '<tbody></tbody>';
    }
    catch (e) {
    }
    finally {
        tableNeedsInnerHTMLFix = (tableInnerHTMLTestElement.childNodes.length === 0);
    }
    if (tableNeedsInnerHTMLFix) {
        tagNamesRequiringInnerHTMLFix = {
            colgroup: ['table'],
            table: [],
            tbody: ['table'],
            tfoot: ['table'],
            thead: ['table'],
            tr: ['table', 'tbody']
        };
    }
    // IE 8 doesn't allow setting innerHTML on a select tag. Detect this and
    // add it to the list of corrected tags.
    //
    var selectInnerHTMLTestElement = document.createElement('select');
    selectInnerHTMLTestElement.innerHTML = '<option></option>';
    if (!selectInnerHTMLTestElement.childNodes[0]) {
        tagNamesRequiringInnerHTMLFix = tagNamesRequiringInnerHTMLFix || {};
        tagNamesRequiringInnerHTMLFix.select = [];
    }
    return tagNamesRequiringInnerHTMLFix;
})(doc);
function scriptSafeInnerHTML(element, html) {
    // without a leading text node, IE will drop a leading script tag.
    html = '&shy;' + html;
    element.innerHTML = html;
    var nodes = element.childNodes;
    // Look for &shy; to remove it.
    var shyElement = nodes[0];
    while (shyElement.nodeType === 1 && !shyElement.nodeName) {
        shyElement = shyElement.firstChild;
    }
    // At this point it's the actual unicode character.
    if (shyElement.nodeType === 3 && shyElement.nodeValue.charAt(0) === "\u00AD") {
        var newValue = shyElement.nodeValue.slice(1);
        if (newValue.length) {
            shyElement.nodeValue = shyElement.nodeValue.slice(1);
        }
        else {
            shyElement.parentNode.removeChild(shyElement);
        }
    }
    return nodes;
}
function buildDOMWithFix(html, contextualElement) {
    var tagName = contextualElement.tagName;
    // Firefox versions < 11 do not have support for element.outerHTML.
    var outerHTML = contextualElement.outerHTML || new XMLSerializer().serializeToString(contextualElement);
    if (!outerHTML) {
        throw "Can't set innerHTML on " + tagName + " in this browser";
    }
    html = fixSelect(html, contextualElement);
    var wrappingTags = tagNamesRequiringInnerHTMLFix[tagName.toLowerCase()];
    var startTag = outerHTML.match(new RegExp("<" + tagName + "([^>]*)>", 'i'))[0];
    var endTag = '</' + tagName + '>';
    var wrappedHTML = [startTag, html, endTag];
    var i = wrappingTags.length;
    var wrappedDepth = 1 + i;
    while (i--) {
        wrappedHTML.unshift('<' + wrappingTags[i] + '>');
        wrappedHTML.push('</' + wrappingTags[i] + '>');
    }
    var wrapper = document.createElement('div');
    scriptSafeInnerHTML(wrapper, wrappedHTML.join(''));
    var element = wrapper;
    while (wrappedDepth--) {
        element = element.firstChild;
        while (element && element.nodeType !== 1) {
            element = element.nextSibling;
        }
    }
    while (element && element.tagName !== tagName) {
        element = element.nextSibling;
    }
    return element ? element.childNodes : [];
}
var buildDOM;
if (needsShy) {
    buildDOM = function buildDOM(html, contextualElement, dom) {
        html = fixSelect(html, contextualElement);
        contextualElement = dom.cloneNode(contextualElement, false);
        scriptSafeInnerHTML(contextualElement, html);
        return contextualElement.childNodes;
    };
}
else {
    buildDOM = function buildDOM(html, contextualElement, dom) {
        html = fixSelect(html, contextualElement);
        contextualElement = dom.cloneNode(contextualElement, false);
        contextualElement.innerHTML = html;
        return contextualElement.childNodes;
    };
}
function fixSelect(html, contextualElement) {
    if (contextualElement.tagName === 'SELECT') {
        html = "<option></option>" + html;
    }
    return html;
}
var buildIESafeDOM;
if (tagNamesRequiringInnerHTMLFix || movesWhitespace) {
    buildIESafeDOM = function buildIESafeDOM(html, contextualElement, dom) {
        // Make a list of the leading text on script nodes. Include
        // script tags without any whitespace for easier processing later.
        var spacesBefore = [];
        var spacesAfter = [];
        if (typeof html === 'string') {
            html = html.replace(/(\s*)(<script)/g, function (match, spaces, tag) {
                spacesBefore.push(spaces);
                return tag;
            });
            html = html.replace(/(<\/script>)(\s*)/g, function (match, tag, spaces) {
                spacesAfter.push(spaces);
                return tag;
            });
        }
        // Fetch nodes
        var nodes;
        if (tagNamesRequiringInnerHTMLFix[contextualElement.tagName.toLowerCase()]) {
            // buildDOMWithFix uses string wrappers for problematic innerHTML.
            nodes = buildDOMWithFix(html, contextualElement);
        }
        else {
            nodes = buildDOM(html, contextualElement, dom);
        }
        // Build a list of script tags, the nodes themselves will be
        // mutated as we add test nodes.
        var i, j, node, nodeScriptNodes;
        var scriptNodes = [];
        for (i = 0; i < nodes.length; i++) {
            node = nodes[i];
            if (node.nodeType !== 1) {
                continue;
            }
            if (node.tagName === 'SCRIPT') {
                scriptNodes.push(node);
            }
            else {
                nodeScriptNodes = node.getElementsByTagName('script');
                for (j = 0; j < nodeScriptNodes.length; j++) {
                    scriptNodes.push(nodeScriptNodes[j]);
                }
            }
        }
        // Walk the script tags and put back their leading text nodes.
        var scriptNode, textNode, spaceBefore, spaceAfter;
        for (i = 0; i < scriptNodes.length; i++) {
            scriptNode = scriptNodes[i];
            spaceBefore = spacesBefore[i];
            if (spaceBefore && spaceBefore.length > 0) {
                textNode = dom.document.createTextNode(spaceBefore);
                scriptNode.parentNode.insertBefore(textNode, scriptNode);
            }
            spaceAfter = spacesAfter[i];
            if (spaceAfter && spaceAfter.length > 0) {
                textNode = dom.document.createTextNode(spaceAfter);
                scriptNode.parentNode.insertBefore(textNode, scriptNode.nextSibling);
            }
        }
        return nodes;
    };
}
else {
    buildIESafeDOM = buildDOM;
}
var buildHTMLDOM;
if (needsIntegrationPointFix) {
    buildHTMLDOM = function buildHTMLDOM(html, contextualElement, dom) {
        if (svgHTMLIntegrationPoints[contextualElement.tagName]) {
            return buildIESafeDOM(html, document.createElement('div'), dom);
        }
        else {
            return buildIESafeDOM(html, contextualElement, dom);
        }
    };
}
else {
    buildHTMLDOM = buildIESafeDOM;
}
export { buildHTMLDOM };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGQtaHRtbC1kb20uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZG9tLWhlbHBlci9saWIvYnVpbGQtaHRtbC1kb20udHMiXSwibmFtZXMiOlsic2NyaXB0U2FmZUlubmVySFRNTCIsImJ1aWxkRE9NV2l0aEZpeCIsImJ1aWxkRE9NIiwiZml4U2VsZWN0IiwiYnVpbGRJRVNhZmVET00iLCJidWlsZEhUTUxET00iXSwibWFwcGluZ3MiOiJBQUFBLGdDQUFnQztBQUNoQyxXQUFXLHdCQUF3QixHQUFHLEVBQUMsYUFBYSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUMsQ0FBQztBQUM1RSxXQUFXLFlBQVksR0FBRyw0QkFBNEIsQ0FBQztBQUV2RCxJQUFJLEdBQUcsR0FBRyxPQUFPLFFBQVEsS0FBSyxXQUFXLEdBQUcsS0FBSyxHQUFHLFFBQVEsQ0FBQztBQUU3RCwrREFBK0Q7QUFDL0QscUNBQXFDO0FBQ3JDLElBQUksd0JBQXdCLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBUyxRQUFRO0lBQ3RELEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztRQUMzQyxNQUFNLENBQUM7SUFDVCxDQUFDO0lBQ0QseUNBQXlDO0lBQ3pDLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzdELE1BQU0sQ0FBQyxTQUFTLEdBQUcsYUFBYSxDQUFDO0lBQ2pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDO0FBQy9FLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBRVIscUZBQXFGO0FBQ3JGLHlFQUF5RTtBQUN6RSx1RUFBdUU7QUFD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