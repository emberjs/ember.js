import { normalizeProperty } from 'dom-helper/prop';
QUnit.module('dom-helper prop');
test('type.attr, for element props that for one reason or another need to be treated as attrs', function () {
    expect(12);
    [
        { tagName: 'TEXTAREA', key: 'form' },
        { tagName: 'BUTTON', key: 'type' },
        { tagName: 'INPUT', key: 'type' },
        { tagName: 'INPUT', key: 'list' },
        { tagName: 'INPUT', key: 'form' },
        { tagName: 'OPTION', key: 'form' },
        { tagName: 'INPUT', key: 'form' },
        { tagName: 'BUTTON', key: 'form' },
        { tagName: 'LABEL', key: 'form' },
        { tagName: 'FIELDSET', key: 'form' },
        { tagName: 'LEGEND', key: 'form' },
        { tagName: 'OBJECT', key: 'form' }
    ].forEach((pair) => {
        var element = {
            tagName: pair.tagName
        };
        Object.defineProperty(element, pair.key, {
            set() { throw new Error('I am a bad browser!'); }
        });
        deepEqual(normalizeProperty(element, pair.key), {
            normalized: pair.key,
            type: 'attr'
        }, ` ${pair.tagName}.${pair.key}`);
    });
});
var TAG_EVENT_PAIRS = [
    { tagName: 'form', key: 'onsubmit' },
    { tagName: 'form', key: 'onSubmit' },
    { tagName: 'form', key: 'ONSUBMIT' },
    { tagName: 'video', key: 'canplay' },
    { tagName: 'video', key: 'canPlay' },
    { tagName: 'video', key: 'CANPLAY' }
];
test('type.eventHandlers should all be props: Chrome', function () {
    expect(6);
    TAG_EVENT_PAIRS.forEach((pair) => {
        var element = {
            tagName: pair.tagName
        };
        Object.defineProperty(element, pair.key, {
            set() { },
            get() { }
        });
        deepEqual(normalizeProperty(element, pair.key), {
            normalized: pair.key,
            type: 'prop'
        }, ` ${pair.tagName}.${pair.key}`);
    });
});
test('type.eventHandlers should all be props: Safari style (which has screwed up stuff)', function () {
    expect(24);
    TAG_EVENT_PAIRS.forEach((pair) => {
        var parent = {
            tagName: pair.tagName
        };
        Object.defineProperty(parent, pair.key, {
            set: undefined,
            get: undefined
        });
        var element = Object.create(parent);
        ok(Object.getOwnPropertyDescriptor(element, pair.key) === undefined, 'ensure we mimic silly safari');
        ok(Object.getOwnPropertyDescriptor(parent, pair.key).set === undefined, 'ensure we mimic silly safari');
        var { normalized, type } = normalizeProperty(element, pair.key);
        equal(normalized, pair.key, `normalized: ${pair.tagName}.${pair.key}`);
        equal(type, 'prop', `type: ${pair.tagName}.${pair.key}`);
    });
});
test('test style attr', function () {
    var { normalized, type } = normalizeProperty({
        style: undefined,
        tagName: 'foobar'
    }, 'style');
    equal(normalized, 'style');
    equal(type, 'attr');
});
test('test STYLE attr', function () {
    var { normalized, type } = normalizeProperty({
        style: undefined,
        tagName: 'foobar'
    }, 'STYLE');
    equal(normalized, 'style');
    equal(type, 'attr');
});
test('test StyLE attr', function () {
    var { normalized, type } = normalizeProperty({
        style: undefined,
        tagName: 'foobar'
    }, 'StyLE');
    equal(normalized, 'style');
    equal(type, 'attr');
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcC10ZXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2h0bWxiYXJzLWNvbXBpbGVyL2xpYi90ZXN0cy9wcm9wLXRlc3QudHMiXSwibmFtZXMiOlsic2V0IiwiZ2V0Il0sIm1hcHBpbmdzIjoiT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0saUJBQWlCO0FBRW5ELEtBQUssQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUVoQyxJQUFJLENBQUMseUZBQXlGLEVBQUU7SUFDOUYsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBRVg7UUFDRSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUksR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUssR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUssR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUssR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUksR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUssR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUksR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUssR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUksR0FBRyxFQUFFLE1BQU0sRUFBRTtRQUNwQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUksR0FBRyxFQUFFLE1B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