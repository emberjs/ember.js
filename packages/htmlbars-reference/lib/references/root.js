import { guid, intern } from '../utils';
import { DirectReference } from './property-access';
export default class RootReference {
    constructor(parent) {
        this._guid = guid();
        this._parent = parent;
        this._chains = {};
    }
    isDirty() { return false; }
    value() { return this._parent; }
    get(prop) {
        var _chains = this._chains;
        if (prop in _chains)
            return _chains[prop];
        return (_chains[prop] = new DirectReference(this, prop));
    }
    path(string) {
        return string.split('.').reduce((ref, part) => ref.get(intern(part)), this);
    }
    referenceFromInternedParts(parts) {
        return parts.reduce((ref, part) => ref.get(part), this);
    }
    label() {
        return '[reference Root]';
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9vdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9odG1sYmFycy1yZWZlcmVuY2UvbGliL3JlZmVyZW5jZXMvcm9vdC50cyJdLCJuYW1lcyI6WyJSb290UmVmZXJlbmNlIiwiUm9vdFJlZmVyZW5jZS5jb25zdHJ1Y3RvciIsIlJvb3RSZWZlcmVuY2UuaXNEaXJ0eSIsIlJvb3RSZWZlcmVuY2UudmFsdWUiLCJSb290UmVmZXJlbmNlLmdldCIsIlJvb3RSZWZlcmVuY2UucGF0aCIsIlJvb3RSZWZlcmVuY2UucmVmZXJlbmNlRnJvbUludGVybmVkUGFydHMiLCJSb290UmVmZXJlbmNlLmxhYmVsIl0sIm1hcHBpbmdzIjoiT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVO09BQ2hDLEVBQUUsZUFBZSxFQUFFLE1BQU0sbUJBQW1CO0FBRW5EO0lBQ0VBLFlBQVlBLE1BQU1BO1FBQ2hCQyxJQUFJQSxDQUFDQSxLQUFLQSxHQUFHQSxJQUFJQSxFQUFFQSxDQUFDQTtRQUNwQkEsSUFBSUEsQ0FBQ0EsT0FBT0EsR0FBR0EsTUFBTUEsQ0FBQ0E7UUFDdEJBLElBQUlBLENBQUNBLE9BQU9BLEdBQUdBLEVBQUVBLENBQUNBO0lBQ3BCQSxDQUFDQTtJQUVERCxPQUFPQSxLQUFLRSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUUzQkYsS0FBS0EsS0FBS0csTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFFaENILEdBQUdBLENBQUNBLElBQUlBO1FBQ05JLElBQUlBLE9BQU9BLEdBQUdBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBO1FBQzNCQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxJQUFJQSxPQUFPQSxDQUFDQTtZQUFDQSxNQUFNQSxDQUFDQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUMxQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsSUFBSUEsZUFBZUEsQ0FBQ0EsSUFBSUEsRUFBRUEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDM0RBLENBQUNBO0lBRURKLElBQUlBLENBQUNBLE1BQU1BO1FBQ1RLLE1BQU1BLENBQUNBLE1BQU1BLENBQUNBLEtBQUtBLENBQUNBLEdBQUdBLENBQUNBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLEtBQUtBLEdBQUdBLENBQUNBLEdBQUdBLENBQUNBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLENBQUNBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO0lBQzlFQSxDQUFDQTtJQUVETCwwQkFBMEJBLENBQUNBLEtBQUtBO1FBQzlCTSxNQUFNQSxDQUFDQSxLQUFLQSxDQUFDQSxNQUFNQSxDQUFDQSxDQUFDQSxHQUFHQSxFQUFFQSxJQUFJQSxLQUFLQSxHQUFHQSxDQUFDQSxHQUFHQSxDQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxJQUFJQSxDQUFDQSxDQUFDQTtJQUMxREEsQ0FBQ0E7SUFFRE4sS0FBS0E7UUFDSE8sTUFBTUEsQ0FBQ0Esa0JBQWtCQSxDQUFDQTtJQUM1QkEsQ0FBQ0E7QUFDSFAsQ0FBQ0E7QUFBQSJ9